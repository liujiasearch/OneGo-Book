# 关于合并hdf5文件

我们很难一次性获取全部完整的样本，样本总是一点一点积累的。在我们的围棋训练样本这件事情上也是一样，我们总是得到一些棋谱就希望拿来作为训练样本。每次获取到新的样本集后我们都可以为其独立生成一个hdf5文件，而不是每次都全量重新生成。但是在训练时，每次都从文件系统上随机抽取hdf5文件，会增加磁盘IO的开销。我们的数据结构非常简单，从理论上看，只要保证group名不重复，把新增的hdf5文件合并到原来的hdf5文件上是完全可行的。技术上，我们可以通过手工编写程序把增量文件和旧文件都读取一遍，然后生成一个新文件，但是我们尽量不重复造轮子。[hdf5官方套件](https://www.hdfgroup.org/solutions/hdf5/)就有提供一个叫做h5copy的工具，我们可以使用这个工具来实现我们的需求。在使用h5copy之前，我们需要下载hdf5，windows用户可以在官网上直接下载。

